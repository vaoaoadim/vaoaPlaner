<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Pl√§ner ‚Äî –Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  
  <link rel="stylesheet" href="style.css" />
  
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/jpg" sizes="32x32" href="planer.jpg">
  <link rel="icon" type="image/jpg" sizes="16x16" href="planer.jpg">
  <link rel="apple-touch-icon" href="planer.jpg">
  
  <meta id="theme-meta" name="theme-color" content="#ffc8c8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Pl√§ner">

<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/",
    "recharts": "https://esm.sh/recharts@^3.6.0"
  }
}
</script>
</head>
<body>
  <header class="header">
    <div class="header-left">
      <h1>–ü–ª√§–Ω–µ—Ä‚úçÔ∏è</h1>
      <div class="week-controls">
        <button id="prevWeekBtn" class="nav-btn" title="–ü—Ä–µ–¥—ã–¥—É—â–∞—è –Ω–µ–¥–µ–ª—è">‚Üê</button>
        <input type="date" id="weekStart" />
        <button id="nextWeekBtn" class="nav-btn" title="–°–ª–µ–¥—É—é—â–∞—è –Ω–µ–¥–µ–ª—è">‚Üí</button>
      </div>
    </div>
    
 

    <div class="header-right">
      <button id="btnWeeklyAnalytics" class="header-btn" title="Weekly Analytics">üìä</button>
      <button id="btnThemeToggle" class="header-btn" title="Dark Mode">üåó</button>
    </div>
  </header>

  <main>
    <section id="week" class="week"></section>

    <div class="bottom-controls">
      <button id="toggleHabits" class="toggle-button btn-habits">üèÜ</button>
      <button id="toggleAnalytics" class="toggle-button btn-stats">üìà</button>
      <button id="toggleCalendar" class="toggle-button btn-calendar">üìÜ</button>
    </div>
    
    <div id="analytics-container" class="panel-container analytics">
      <div class="panel-content">
        <button class="close-panel">‚úï</button>
        <canvas id="barChart"></canvas>
        <canvas id="pieChart"></canvas>
        <div class="summary" id="summary"></div>
      </div>
    </div>

    <div id="habits-container" class="panel-container habits">
      <div class="panel-content">
        <button class="close-panel">‚úï</button>
        <h2>–¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫</h2>
        <div id="habits-list"></div>
       <button id="addHabitBtn" class="add-habit-btn toggle-button">
  + –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É
</button>

      </div>
    </div>

    <div id="calendar-container" class="panel-container calendar">
      <div class="panel-content">
        <button class="close-panel">‚úï</button>
        <!-- Modified header: Removed buttons, centered title -->
        <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 10px; max-width: 800px; margin-left: auto; margin-right: auto;">
            <h2 id="calendar-month-title" style="margin:0;">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</h2>
        </div>
        <div id="calendar-grid" class="calendar-grid"></div>
      </div>
    </div>

    <div id="history-container" class="panel-container history">
      <div class="panel-content">
        <button class="close-panel">‚úï</button>
        <h2>–ê—Ä—Ö–∏–≤ –Ω–µ–¥–µ–ª—å</h2>
        <div id="history-list"></div>
      </div>
    </div>

  </main>

  <div id="instruction-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <h2>Welcome to Pl√§ner! üëã</h2>
      <ol>
        <li>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –æ–∫–Ω–µ –ª–µ–≤–æ–≥–æ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É–≥–ª–∞, —Å –∫–æ—Ç–æ—Ä–æ–π –ø–æ–π–¥–µ—Ç –æ—Ç—Å—á–µ—Ç –≤–∞—à–µ–π –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏ –≤ –ø–ª–∞–Ω–µ—Ä–µ.</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∏ ‚Üê –∏ ‚Üí –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –Ω–µ–¥–µ–ª—è–º–∏. –í–∞—à–∏ –∑–∞–¥–∞—á–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</li>
        <li>–°—Ç–∞–≤—å—Ç–µ –∑–∞–¥–∞—á–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ —Å–æ–Ω (–≤—ã–±–∏—Ä–∞–π—Ç–µ —á–∞—Å—ã), –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —ç–Ω–µ—Ä–≥–∏—é.</li>
        <li>–í—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–∏–≤—ã—á–∫–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ (—Å–ø–æ—Ä—Ç, –≤–æ–¥–∞, —á—Ç–µ–Ω–∏–µ –∏ —Ç.–¥.) –∏ –æ—Ç–º–µ—á–∞–π—Ç–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.</li>
        <li>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±—â–µ–π —Å–≤–æ–¥–∫–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–∞—à–µ–π –æ—Ç—á–µ—Ç–Ω–æ–π –Ω–µ–¥–µ–ª–∏. –£–¥–∞—á–∏!</li>
      </ol>
      <p style="text-align: center; font-weight: bold; margin-top: 15px;">–£–¥–∞—á–∫–∏!</p>
      <button id="close-instruction-btn">–ö –ø–ª–∞–Ω–∞–º! üöÄ</button>
    </div>
  </div>

  <!-- Custom Pixel Modal Structure -->
  <div id="custom-modal" class="modal-overlay hidden">
    <div class="modal-content pixel-modal">
      <h2 id="modal-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h2>
      <div id="modal-body"></div>
      <div class="modal-actions">
        <button id="modal-cancel-btn" class="header-btn">–û—Ç–º–µ–Ω–∞</button>
        <button id="modal-confirm-btn" class="header-btn">–û–ö</button>
      </div>
    </div>
  </div>
  
  <script src="script.js"></script>
</body>
</html>

